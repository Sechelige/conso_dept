<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Limites des départements français</title>
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
  <style>
    #map {
      display: none; /* Masquer la carte */
    }
  </style>
</head>
<body>
  <h1>Limites des départements français</h1>

  <!-- Ajout d'un conteneur pour afficher un message de chargement -->
  <p>Chargement des limites des départements...</p>

  <script>
    var map = L.map('map').setView([46.603354, 2], 6); // Ajuster le centre et le zoom

    // Chargement des données GeoJSON des départements français
    fetch('https://raw.githubusercontent.com/gregoiredavid/france-geojson/master/departements.geojson')
      .then(response => response.json())
      .then(data => {
        // Création d'une couche Leaflet pour afficher les frontières des départements
        L.geoJSON(data, {
          style: {
            color: 'blue', // Couleur des frontières
            weight: 1, // Épaisseur des frontières
            fillOpacity: 0.1 // Opacité du remplissage
          }
        }).addTo(map);

        // Affichage du message de chargement initial
        document.querySelector('p').style.display = 'none'; // Masquer le message de chargement
        document.getElementById('map').style.display = 'block'; // Afficher la carte
      })
      .catch(error => {
        console.error('Erreur lors du chargement des données :', error);
        // Affichage d'un message d'erreur en cas de problème lors du chargement des données
        document.querySelector('p').textContent = 'Erreur lors du chargement des données. Veuillez réessayer plus tard.';
      });
  </script>

  <div id="map"></div>
</body>
</html>
